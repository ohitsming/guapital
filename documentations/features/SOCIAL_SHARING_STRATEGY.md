# Social Sharing Strategy: Percentile Ranking as Growth Engine

**Status:** Research Complete
**Decision:** Prioritize Social Sharing over Trajectory for Phase 2
**Target Launch:** Weeks 1-2 of Phase 2
**Last Updated:** January 2025

---

## Executive Summary

### Social Sharing vs Trajectory Comparison

| Metric | Social Sharing | Trajectory |
|--------|---------------|-----------------|
| **Timeline to ROI** | Immediate (first share = first referral) | 3-6 months (SEO lag) |
| **Customer Acquisition Cost** | $0 per referred user | $0.005-0.01 per visitor |
| **Growth Mechanism** | Viral coefficient (K-factor) | Organic search traffic |
| **Development Time** | 1-2 weeks | 1-2 weeks |
| **Ongoing Costs** | $0 (one-time build) | 4-6 hours/month (SEO) |
| **Competitive Advantage** | Leverages unique percentile data | Crowded space (10+ existing calculators) |
| **Network Effects** | Compounding (more users = more shares) | Linear (traffic → conversions) |
| **Risk Level** | Low (even K < 1 generates signups) | Medium (requires backlinks to rank) |

### Recommendation: Ship Social Sharing First

**Why:**
1. Leverages our moat (percentile ranking - competitors can't copy shares)
2. Immediate feedback loop (vs 3-6 month SEO wait)
3. Zero ongoing costs (vs SEO content strategy)
4. Network effects compound over time
5. Lower competition (our data is unique; FIRE calculators are commoditized)

**Sequencing Strategy:**
- **Phase 2A (Weeks 1-2):** Build social sharing, track viral coefficient
- **Phase 2B (Weeks 3-4):** If K-factor > 0.5, optimize sharing flow. If K < 0.3, pivot to Trajectory as SEO hedge

---

## The Challenge: Why Financial Sharing is Hard

### Research Finding: People DON'T Share Net Worth Publicly

**Where people DO share exact wealth ($500k, $1M):**
- Anonymous forums (Reddit r/fatfire, Bogleheads, Fishbowl)
- Educational framing ("How I reached $500k at 29")
- Asking for advice ("Hit $10M, now what?")

**Why NOT public + identifiable:**
- Security concerns (targeting for scams/theft)
- Social stigma (seen as bragging/showing off)
- Relationship impacts (friends/family jealousy)
- Humblebragging universally disliked on social media

**Key Insight:** Direct wealth disclosure = social friction

---

## What DOES Work: Proven Viral Examples

### 1. Spotify Wrapped (2M+ shares, annual cultural moment)

**Why People Share:**
- **Identity expression:** "This is who I am" (music taste = personality)
- **Non-threatening:** Not wealth/status, just taste preferences
- **Cultural FOMO:** Everyone does it simultaneously (annual ritual)
- **Psychological balance:** "I'm unique but also part of the group"

**Design Tactics (2024):**
- Vibrant, high-contrast colors + gradients
- Instagram Story format (swipeable slides, bite-sized)
- Playful animations, bold typography
- Prominent share button in-app
- Formatted perfectly for every platform (Twitter, IG, LinkedIn)
- Mobile-optimized (vertical 1080x1920 for Stories)

**Success Formula:**
```
Personal data + Beautiful visualization + Easy sharing = Viral moment
```

**2024 Reception Notes:**
- Users felt 2024 was "lackluster" vs previous years
- Lesson: Don't rely on AI gimmicks, keep it data-focused
- Best years featured unconventional data (listening personality, city matches)

---

### 2. Duolingo Streaks (6M+ active streakers, thousands share daily)

**Why People Share:**
- **Pride in achievement:** 50-day, 100-day, 1000-day streaks are screenshot-worthy
- **Social proof:** See peers' progress, creates accountability loops
- **Gamification:** Leaderboards, loss aversion ("Don't break the streak!")
- **Not wealth-based:** Learning achievement, universally acceptable to share

**Impact on Growth:**
- 7-day streak users = 3.6x more likely to stay long-term
- Free marketing (organic shares on Twitter/Reddit)
- Streak Freeze feature reduced churn by 21%
- Thousands share daily without prompting

**Key Insight:** People share PROGRESS and ACHIEVEMENTS, not dollar amounts

**Sharing Behavior:**
- Users post screenshots to Twitter/Reddit with pride
- Acceptable because it's effort-based, not wealth-based
- Community celebrates milestones (congratulations culture)

---

### 3. Strava Year in Sport (floods social media on release day)

**Design Pattern:**
- Instagram Story layout (tap to pause/advance)
- Dot calendar visualization (orange dots = active days, visualizing weeks)
- Statistical achievement (days active, distance, elevation)
- "Rhetorical velocity" = built for sharing from day one

**Why It Works:**
- Celebrates effort (workout stats) not innate traits or wealth
- Visual, data-driven storytelling
- Annual cultural moment (like Spotify Wrapped)
- Appeals to achievement mindset

**2024 Stats:**
- 59% increase in running club participation globally
- 25% growth in women's weight training uploads
- Social media floods with visualizations on release day

**Key Insight:** "Statistical quantification of physical achievement" = shareable

---

## How Percentile Ranking Solves the Problem

### Why "Top 15% for age 28" is MORE Shareable Than "$500k Net Worth"

**1. Achievement Frame (Not Wealth Disclosure)**
- Feels like Duolingo streak or Strava stats
- "Top X%" = ranking/achievement, not money bragging
- Not revealing exact wealth (addresses security concern)
- Socially acceptable to celebrate achievements

**2. Identity Expression (Like Spotify Wrapped)**
- Signals "I'm financially responsible" without being specific
- Status without specifics ("I'm doing well for my age")
- Can be shared with pride, not guilt
- Appeals to wealth-building mindset (our target demo)

**3. Gamified (Like Duolingo Leaderboards)**
- Percentile = ranking system (competitive element)
- Progress tracking ("moved from 20% to 15%!")
- Milestone unlocks ("Entered top 10%!")
- Appeals to achievement-oriented tech workers (24-35)

**4. Less Risky to Share**
- No exact dollar amount = harder to target for scams
- Anonymous by nature (just a percentile, no identifiers)
- Can disable dollar display, only show ranking
- User controls what's visible

**5. Unique Competitive Moat**
- Hybrid SCF + real user data = content angle competitors can't replicate
- Monarch/YNAB don't have percentile ranking (would need 6-12 months to build)
- Network effects: More users = richer data = better percentiles = more shares

---

## Share Card Design Options

### Design Principles (From Research)

**What Works:**
- Minimalist, professional aesthetic (not tacky/gimmicky)
- Bold typography for key stat (TOP 15%)
- Brand-consistent colors (Dark Teal + Gold + Off-white)
- Instagram Story format (1080x1920) AND og:image format (1200x630)
- Data visualization (charts, progress bars)
- Clear branding (Guapital logo)

**What to Avoid:**
- Exact dollar amounts (privacy/security risk)
- Cluttered design (too much info)
- Generic stock photo aesthetic
- Over-the-top celebratory language ("You're crushing it!")
- Emojis (unless minimal/tasteful)

---

### Option A: Minimalist Professional (RECOMMENDED FOR MVP)

```
┌─────────────────────────────┐
│                             │
│   [Guapital Logo]           │  <- Top left, small
│                             │
│                             │
│   TOP 15%                   │  <- 72pt bold, gold (#FFC107)
│   for 28 year olds          │  <- 24pt regular, off-white (#F7F9F9)
│                             │
│   ━━━━━━━━━━━━━━━━━━━━━     │  <- Gold progress bar (visual indicator)
│   ▲                         │
│   You                       │
│                             │
│   Net Worth Percentile      │  <- 16pt, subtle
│                             │
└─────────────────────────────┘

Colors:
- Background: Dark Teal (#004D40)
- Primary: Gold (#FFC107) for "TOP 15%"
- Secondary: Off-white (#F7F9F9)

Sizes:
- og:image (Twitter/LinkedIn): 1200x630
- Instagram Story: 1080x1920

Why This Works:
✓ Clean, professional (not tacky)
✓ Highlights achievement (TOP 15%)
✓ No dollar amount (privacy-first)
✓ Brand colors = trust + celebration
✓ Easy to read at a glance
```

**Psychological Triggers:**
- Status signaling (top X%)
- Progress visualization (bar chart)
- Minimalist = premium brand perception
- Age context = relatable ("I'm doing well for my age")

---

### Option B: Data Visualization

```
┌─────────────────────────────┐
│                             │
│   [Guapital Logo]           │
│                             │
│   You're here ▼             │  <- Gold arrow pointing to user
│                             │
│   ┌────────────────┐        │
│   │    ___         │        │  <- Bell curve (normal distribution)
│   │   /   \        │        │     User's position marked in gold
│   │  /     \       │        │
│   │ /       \___   │        │
│   └────────────────┘        │
│                             │
│   TOP 15%                   │  <- Bold, gold
│   OF 28 YEAR OLDS           │
│                             │
│   Track your net worth      │  <- CTA for referrals
│   with Guapital →           │
│                             │
└─────────────────────────────┘

Why This Works:
✓ Educational framing (data viz, not bragging)
✓ Shows context (where you stand vs population)
✓ Clear CTA for referral conversions
✓ Less "braggy", more "interesting data"
✓ Appeals to data-minded tech workers
```

**Use Case:**
- Users who want to share "interesting data" not achievements
- Reddit-friendly (r/dataisbeautiful, r/personalfinance)
- Appeals to analytical personality types

---

### Option C: Milestone Badge (Gamification)

```
┌─────────────────────────────┐
│                             │
│   ACHIEVEMENT UNLOCKED      │  <- Gamified language
│                             │
│        ┌─────────┐          │
│       /           \         │  <- Gold circular badge
│      │             │        │     Medal/trophy design
│      │   TOP 15%   │        │     Embossed effect
│      │             │        │
│       \           /         │
│        └─────────┘          │
│                             │
│   You're in the top 15%     │
│   of 28 year olds           │
│                             │
│   Keep building wealth →    │  <- Encourages continued engagement
│   [Guapital logo]           │
│                             │
└─────────────────────────────┘

Why This Works:
✓ Gamified language ("unlocked", "achievement")
✓ Celebratory tone (not bragging, celebrating progress)
✓ Visual reward (badge = status symbol)
✓ Encourages continued engagement
✓ Shareable as "milestone reached"
```

**Use Case:**
- Milestone moments (entered top 25%, 15%, 10%, 5%, 1%)
- Gamification enthusiasts
- Can tie into badge system (future Phase 2 feature)

---

## Privacy Controls & Risk Mitigation

### Core Privacy Features

**1. Opt-In by Default**
- Sharing disabled until user explicitly enables
- Clear warning prompt: "Sharing financial info publicly may pose security risks. Only share what you're comfortable with."
- Two-step confirmation for first share

**2. Dollar Amount Toggle**
- Hide net worth, only show percentile ranking
- User controls what's visible on share card
- Options:
  - Show percentile only (default, recommended)
  - Show percentile + net worth
  - Show percentile + age + net worth

**3. Anonymous Mode**
- Remove username/photo from share card
- Generic "Guapital User" attribution
- Prevents identification from screenshot

**4. Platform-Specific Warnings**
- Twitter/LinkedIn (public): "This will be visible to anyone"
- Instagram Stories (24hr): "Expires in 24 hours"
- Reddit/Discord (anonymous): "Use anonymous username"
- Copy link (private): "For private sharing only"

---

### User-Controlled Framing

**Caption Templates (Pre-filled, editable):**

✅ **Recommended (Humble, Educational):**
- "Making progress on my financial journey"
- "Tracking my net worth with @Guapital"
- "Celebrating small wins on the path to financial independence"

✅ **Neutral (Product Focus):**
- "Check out my net worth percentile on @Guapital"
- "Interesting to see where I stand financially"

❌ **Avoid (Too Braggy):**
- "Look how much I'm worth!"
- "Crushing my financial goals"

**Implementation:**
```typescript
const captionTemplates = [
  "Making progress on my financial journey 📊",
  "Tracking my net worth with @Guapital",
  "Celebrating milestones on the path to financial independence 🎯",
  // User can edit before sharing
]
```

---

### Share Destination Strategy

**Pre-fill share buttons with appropriate platforms:**

**Twitter**
- Quick share (public, but fast-scrolling feed = less permanent)
- Hashtags: #NetWorth #PersonalFinance #FinancialFreedom
- @ mention: @Guapital (for tracking)
- UTM: `?utm_source=twitter&utm_medium=social&utm_campaign=percentile_share`

**Instagram Stories**
- 24-hour expiration (less permanent, lower risk)
- Vertical format (1080x1920)
- Swipe-up link (if account has 10k+ followers) or link sticker

**LinkedIn**
- Professional context (career achievement framing)
- Longer caption explaining financial responsibility journey
- Appeals to career-minded professionals

**Reddit**
- Anonymous username (privacy-friendly)
- Suggested subreddits: r/personalfinance, r/financialindependence, r/Fire
- Copy link + suggested title: "Reached top 15% for my age group using Guapital"

**Copy Link (Private Sharing)**
- For group chats (WhatsApp, Signal, Discord)
- Most private option
- Can still track conversions via UTM

---

### Social Proof Loop (Encouraging Shares)

**Without Being Spammy:**

**1. Show Sharing Activity (FOMO)**
- "127 people shared their percentile this month"
- "Your friends [Avatar] [Avatar] shared their rankings"
- Creates social proof, reduces perceived risk

**2. Positive Reinforcement (Not Financial Incentives)**
- "Your share helped 3 friends join Guapital" (shows impact)
- "Thanks for spreading the word!"
- Milestone badges for referring friends (gamification)

**3. Timing Prompts**
- Offer share after positive percentile update ("You moved from 20% to 15%!")
- Annual "Year in Review" moment (like Spotify Wrapped)
- After hitting milestone (entered top 25%, 10%, etc.)

**4. DON'T Incentivize with Discounts**
- Feels spammy, reduces genuine sharing
- Attracts wrong users (gaming the system)
- Damages brand perception

---

## Implementation Plan

### Phase 1: MVP (Week 1-2)

**Build Core Infrastructure:**

1. **OG Image Generation API** (2-3 days)
   - Route: `/api/og/percentile-card`
   - Uses Next.js `ImageResponse` (built on Satori)
   - Dynamic parameters: `percentile`, `age`, `netWorth` (optional)
   - Returns 1200x630 PNG for og:image

   ```typescript
   // /api/og/percentile-card/route.ts
   import { ImageResponse } from 'next/og'

   export async function GET(request: Request) {
     const { searchParams } = new URL(request.url)
     const percentile = searchParams.get('percentile')
     const age = searchParams.get('age')
     const showNetWorth = searchParams.get('showNetWorth') === 'true'
     const netWorth = searchParams.get('netWorth')

     return new ImageResponse(
       (
         <div style={{
           display: 'flex',
           flexDirection: 'column',
           alignItems: 'center',
           justifyContent: 'center',
           width: '100%',
           height: '100%',
           background: '#004D40', // Dark Teal
           color: '#F7F9F9', // Off-white
           fontFamily: 'Inter, sans-serif',
         }}>
           {/* Logo */}
           <div style={{ position: 'absolute', top: 40, left: 40 }}>
             Guapital
           </div>

           {/* Main Content */}
           <div style={{
             fontSize: 72,
             fontWeight: 'bold',
             color: '#FFC107', // Gold
           }}>
             TOP {percentile}%
           </div>
           <div style={{ fontSize: 24, marginTop: 10 }}>
             for {age} year olds
           </div>

           {/* Optional: Net Worth */}
           {showNetWorth && netWorth && (
             <div style={{ fontSize: 18, marginTop: 20, opacity: 0.8 }}>
               ${parseInt(netWorth).toLocaleString()} net worth
             </div>
           )}

           {/* Progress Bar */}
           <div style={{
             width: '400px',
             height: '8px',
             background: 'rgba(255, 255, 255, 0.2)',
             borderRadius: '4px',
             marginTop: 40,
             position: 'relative',
           }}>
             <div style={{
               width: `${100 - parseInt(percentile)}%`,
               height: '100%',
               background: '#FFC107',
               borderRadius: '4px',
             }} />
           </div>

           {/* Tagline */}
           <div style={{
             fontSize: 16,
             marginTop: 60,
             opacity: 0.7,
           }}>
             Net Worth Percentile Tracker
           </div>
         </div>
       ),
       {
         width: 1200,
         height: 630,
       }
     )
   }
   ```

2. **Share Button UI Component** (1 day)
   - Location: `PercentileRankCard.tsx`
   - Triggers share modal
   - Icon: Share icon from existing design system

   ```tsx
   // components/percentile/ShareButton.tsx
   export function ShareButton({ percentile, age, netWorth }: Props) {
     const [showModal, setShowModal] = useState(false)

     return (
       <>
         <button
           onClick={() => setShowModal(true)}
           className="flex items-center gap-2 px-4 py-2 bg-amber-500 hover:bg-amber-600 rounded-lg"
         >
           <ShareIcon className="w-5 h-5" />
           Share
         </button>

         {showModal && (
           <ShareModal
             percentile={percentile}
             age={age}
             netWorth={netWorth}
             onClose={() => setShowModal(false)}
           />
         )}
       </>
     )
   }
   ```

3. **Share Modal** (2 days)
   - Privacy controls (toggle dollar amount, anonymous mode)
   - Platform selection (Twitter, LinkedIn, Instagram, Reddit, Copy link)
   - Caption editor (pre-filled templates)
   - Preview of share card

   ```tsx
   // components/percentile/ShareModal.tsx
   export function ShareModal({ percentile, age, netWorth, onClose }: Props) {
     const [showNetWorth, setShowNetWorth] = useState(false)
     const [anonymousMode, setAnonymousMode] = useState(false)
     const [caption, setCaption] = useState(captionTemplates[0])

     const shareUrl = useMemo(() => {
       return `https://guapital.com/og/percentile-card?percentile=${percentile}&age=${age}&showNetWorth=${showNetWorth}&netWorth=${netWorth}`
     }, [percentile, age, showNetWorth, netWorth])

     return (
       <Modal onClose={onClose}>
         <h2>Share Your Percentile</h2>

         {/* Privacy Warning */}
         <div className="bg-amber-50 border-l-4 border-amber-500 p-4">
           Sharing financial info publicly may pose security risks. Only share what you're comfortable with.
         </div>

         {/* Privacy Controls */}
         <div className="space-y-4">
           <label>
             <input
               type="checkbox"
               checked={showNetWorth}
               onChange={(e) => setShowNetWorth(e.target.checked)}
             />
             Include net worth amount
           </label>

           <label>
             <input
               type="checkbox"
               checked={anonymousMode}
               onChange={(e) => setAnonymousMode(e.target.checked)}
             />
             Share anonymously (no username)
           </label>
         </div>

         {/* Preview */}
         <div>
           <h3>Preview</h3>
           <img src={shareUrl} alt="Share card preview" />
         </div>

         {/* Caption Editor */}
         <textarea
           value={caption}
           onChange={(e) => setCaption(e.target.value)}
           placeholder="Add a caption..."
         />

         {/* Share Buttons */}
         <div className="grid grid-cols-2 gap-4">
           <ShareToTwitterButton url={shareUrl} caption={caption} />
           <ShareToLinkedInButton url={shareUrl} caption={caption} />
           <ShareToRedditButton url={shareUrl} />
           <CopyLinkButton url={shareUrl} />
         </div>
       </Modal>
     )
   }
   ```

4. **Analytics Tracking** (1 day)
   - Track share button clicks
   - Track completed shares by platform
   - Track referral conversions (UTM parameters)
   - Add to existing analytics setup

   ```typescript
   // Track in Supabase or analytics service
   await supabase.from('share_events').insert({
     user_id: user.id,
     event_type: 'share_initiated',
     platform: 'twitter',
     percentile: percentile,
     included_net_worth: showNetWorth,
     anonymous: anonymousMode,
     timestamp: new Date().toISOString(),
   })
   ```

---

### Phase 2: Testing & Iteration (Week 3-4)

**A/B Test Share Card Designs:**

1. **Deploy 3 Variants**
   - Variant A: Minimalist (Option A above)
   - Variant B: Data viz with bell curve (Option B)
   - Variant C: Gamified badge (Option C)

2. **Randomly Assign Users**
   - 33% see each variant
   - Track performance by variant

3. **Measure Key Metrics**
   - Share button click rate (% of users who click share)
   - Share completion rate (% who complete share after clicking)
   - Platform preference (Twitter > Instagram > LinkedIn > Reddit)
   - Referral conversion rate (signups from shared links)

**Success Criteria:**
- **Good:** 5-10% share rate (1 in 10-20 users clicks share)
- **Great:** 15%+ share rate (Duolingo-level engagement)
- **Viral:** K-factor > 1.0 (each user brings 1+ referral)

**K-factor Calculation:**
```
K = (invites sent per user) × (conversion rate per invite)

Example:
- 10% of users share
- Each share gets 50 views (average Twitter reach)
- 2% of viewers sign up
K = 0.10 × 50 × 0.02 = 0.10

Need K > 1.0 for true virality, but K > 0.3 = significant growth boost
```

---

### Phase 3: Optimization (Week 5+)

**Based on Data, Iterate:**

**If share rate < 5%:**
- Test messaging ("Celebrate your progress!" vs "Share your achievement")
- Test placement (larger share button, different color)
- Test timing (prompt after percentile update, not just static button)

**If completion rate low (clicks but doesn't share):**
- Simplify UX (reduce clicks from share → completion)
- Pre-fill more content (make caption editing optional)
- Test platform selection (maybe only show top 2 platforms)

**If conversions low (shares but no signups):**
- Improve landing page for referred users
- Add social proof ("Your friend [Name] shared this")
- Test different CTAs on share card

---

## Success Metrics & KPIs

### Primary Metrics

**1. Viral Coefficient (K-factor)**
- Formula: `(% users who share) × (avg reach per share) × (% viewers who convert)`
- Target: K > 0.5 (good), K > 1.0 (exceptional)
- Track weekly

**2. Share Rate**
- Formula: `(users who clicked share) / (total users who saw percentile)`
- Target: 5-10% (good), 15%+ (great)
- Track by user cohort (age, percentile, Premium vs Free)

**3. Share Completion Rate**
- Formula: `(users who completed share) / (users who clicked share)`
- Target: 50%+ (indicates good UX, low friction)
- Track by platform (Twitter vs IG vs LinkedIn)

**4. Referral Conversion Rate**
- Formula: `(signups from shared links) / (views of shared content)`
- Target: 2-5% (typical for social referrals)
- Track by platform, share card variant

---

### Secondary Metrics

**5. Platform Preference**
- Track: Twitter, LinkedIn, Instagram, Reddit, Copy link
- Hypothesis: Twitter/Reddit highest (tech worker demo)
- Informs: Which platforms to optimize for

**6. Privacy Settings Distribution**
- Track: % showing net worth, % anonymous mode
- Hypothesis: 60%+ will hide net worth (privacy-conscious)
- Informs: Default settings, messaging

**7. Share Velocity**
- Track: Shares per day, spikes around milestones
- Hypothesis: Spikes when users update net worth (percentile changes)
- Informs: Timing of share prompts

**8. Content Virality**
- Track: Second-order shares (shares of shares)
- Hypothesis: Low (wealth content doesn't go "viral" like memes)
- Informs: Expectations, realistic K-factor targets

---

### Dashboard View (Supabase Query)

```sql
-- Weekly share metrics
SELECT
  DATE_TRUNC('week', created_at) AS week,
  COUNT(DISTINCT user_id) AS unique_sharers,
  COUNT(*) AS total_shares,
  COUNT(*) FILTER (WHERE platform = 'twitter') AS twitter_shares,
  COUNT(*) FILTER (WHERE platform = 'linkedin') AS linkedin_shares,
  COUNT(*) FILTER (WHERE included_net_worth = true) AS shares_with_networth,
  AVG(percentile) AS avg_percentile_shared
FROM share_events
WHERE event_type = 'share_completed'
GROUP BY week
ORDER BY week DESC
LIMIT 12;

-- Referral conversions
SELECT
  utm_source,
  utm_campaign,
  COUNT(*) AS signups,
  COUNT(*) FILTER (WHERE converted_to_premium = true) AS premium_conversions
FROM users
WHERE utm_campaign LIKE '%percentile_share%'
GROUP BY utm_source, utm_campaign
ORDER BY signups DESC;

-- K-factor calculation
WITH share_stats AS (
  SELECT
    COUNT(DISTINCT user_id) / (SELECT COUNT(*) FROM users WHERE percentile_rank IS NOT NULL) AS share_rate,
    50 AS avg_reach, -- Estimate from Twitter analytics
    0.02 AS conversion_rate -- Estimate from UTM tracking
)
SELECT
  share_rate,
  share_rate * avg_reach * conversion_rate AS k_factor
FROM share_stats;
```

---

## Technical Implementation Details

### Next.js ImageResponse (Satori)

**Key Constraints:**
- Only flexbox layout supported (no Grid, no absolute positioning in children)
- Each element with multiple children must explicitly use `display: flex`
- No `<script>` or `<link>` elements
- Limited CSS properties (see Satori docs)
- No external images (must be embedded as data URIs or use Vercel OG image service)

**Font Loading:**
```typescript
// Load custom font for brand consistency
import { readFile } from 'fs/promises'

const fontData = await readFile('./public/fonts/Inter-Bold.ttf')

return new ImageResponse(
  <div>...</div>,
  {
    width: 1200,
    height: 630,
    fonts: [
      {
        name: 'Inter',
        data: fontData,
        style: 'normal',
        weight: 700,
      },
    ],
  }
)
```

**Edge Runtime:**
```typescript
// Deploy to Edge for low latency
export const runtime = 'edge'
```

---

### Share URLs & UTM Tracking

**Structure:**
```
https://guapital.com/?utm_source={platform}&utm_medium=social&utm_campaign=percentile_share&utm_content={variant}&ref={user_id}

Examples:
- Twitter: utm_source=twitter
- LinkedIn: utm_source=linkedin
- Instagram: utm_source=instagram
- Reddit: utm_source=reddit
```

**Track in Supabase:**
```sql
CREATE TABLE share_events (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id),
  event_type TEXT NOT NULL, -- 'share_initiated', 'share_completed', 'share_clicked'
  platform TEXT, -- 'twitter', 'linkedin', 'instagram', 'reddit', 'copy_link'
  percentile INTEGER,
  included_net_worth BOOLEAN DEFAULT false,
  anonymous BOOLEAN DEFAULT false,
  share_card_variant TEXT, -- 'minimalist', 'dataviz', 'badge'
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Enable RLS
ALTER TABLE share_events ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own share events"
  ON share_events FOR SELECT
  USING (auth.uid() = user_id);

CREATE POLICY "Users can insert own share events"
  ON share_events FOR INSERT
  WITH CHECK (auth.uid() = user_id);
```

**Referral Attribution:**
```sql
-- Track referral conversions
ALTER TABLE auth.users ADD COLUMN referred_by UUID REFERENCES auth.users(id);
ALTER TABLE auth.users ADD COLUMN utm_source TEXT;
ALTER TABLE auth.users ADD COLUMN utm_campaign TEXT;

-- On signup, capture UTM params from URL
-- Later, calculate K-factor:
SELECT
  COUNT(*) FILTER (WHERE referred_by IS NOT NULL AND utm_campaign = 'percentile_share') AS referrals,
  COUNT(*) AS total_new_users,
  CAST(COUNT(*) FILTER (WHERE utm_campaign = 'percentile_share') AS FLOAT) / COUNT(*) AS referral_rate
FROM auth.users
WHERE created_at > NOW() - INTERVAL '30 days';
```

---

### Platform-Specific Share Implementations

**Twitter (X):**
```typescript
const shareToTwitter = (imageUrl: string, caption: string) => {
  const tweetUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(caption)}&url=${encodeURIComponent(imageUrl)}`
  window.open(tweetUrl, '_blank')
}
```

**LinkedIn:**
```typescript
const shareToLinkedIn = (imageUrl: string) => {
  const linkedInUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(imageUrl)}`
  window.open(linkedInUrl, '_blank')
}
```

**Instagram Stories (Mobile Only):**
```typescript
// Use native share API on mobile
const shareToInstagram = async (imageUrl: string) => {
  if (navigator.share) {
    await navigator.share({
      title: 'My Net Worth Percentile',
      text: caption,
      url: imageUrl,
    })
  } else {
    // Fallback: Copy link + show instructions
    await navigator.clipboard.writeText(imageUrl)
    alert('Link copied! Paste into Instagram app to share.')
  }
}
```

**Reddit:**
```typescript
const shareToReddit = (imageUrl: string, suggestedTitle: string) => {
  const redditUrl = `https://www.reddit.com/submit?url=${encodeURIComponent(imageUrl)}&title=${encodeURIComponent(suggestedTitle)}`
  window.open(redditUrl, '_blank')
}
```

**Copy Link:**
```typescript
const copyShareLink = async (imageUrl: string) => {
  await navigator.clipboard.writeText(imageUrl)
  toast.success('Link copied to clipboard!')
}
```

---

## Risk Assessment & Mitigation

### Risk 1: Low Share Rate (< 5%)

**Probability:** Medium (financial content is inherently sensitive)

**Mitigation:**
- Set realistic expectations (even 5% = significant growth)
- Test multiple messaging approaches ("Celebrate" vs "Share" vs "Show off")
- Prompt at optimal moments (after positive percentile update)
- Add social proof ("127 people shared this month")

**Fallback:**
- If K < 0.3 after 4 weeks, pivot to Trajectory (SEO strategy)
- Continue iterating on share UX in background

---

### Risk 2: Privacy Backlash

**Probability:** Low (with proper controls)

**Mitigation:**
- Opt-in by default (not auto-enabled)
- Clear privacy warnings
- Hide dollar amount by default
- Anonymous mode option
- User controls everything

**Monitoring:**
- Track customer support tickets related to privacy
- Monitor social media for negative sentiment
- Survey users: "Would you share your percentile?"

---

### Risk 3: Low Referral Conversion

**Probability:** Medium (share ≠ signup)

**Mitigation:**
- Optimize landing page for referred users
- Add social proof ("Your friend [Name] uses Guapital")
- Test CTAs ("See your percentile" vs "Track your net worth")
- Offer founding member pricing for referred users (incentive)

**Monitoring:**
- Track UTM conversions weekly
- A/B test landing page variants
- Survey referred users: "What convinced you to sign up?"

---

### Risk 4: Share Card Looks "Cheap" or "Tacky"

**Probability:** Medium (design is subjective)

**Mitigation:**
- Hire designer for polish (if budget allows)
- Test with focus group (show 3 designs, ask preferences)
- Study competitors' year-in-review designs (Spotify, Strava, Duolingo)
- Iterate based on user feedback

**Quality Bar:**
- Professional typography (Inter, system fonts)
- Brand-consistent colors (Dark Teal + Gold)
- Clean, minimalist aesthetic
- No gimmicks, no cheesy stock photos

---

## Next Steps After Social Sharing

### If Social Sharing Succeeds (K > 0.5)

**Double Down:**
1. Add "Year in Review" feature (annual Spotify Wrapped moment)
2. Build milestone badge system (gamification)
3. Add referral tracking dashboard ("You've referred 5 friends!")
4. Optimize share card designs based on A/B test data

**Timeline:** Phase 2B (Weeks 3-4)

---

### If Social Sharing Underperforms (K < 0.3)

**Pivot to SEO:**
1. Build Trajectory feature (1-2 weeks)
2. Launch SEO content strategy (percentile + net worth keywords)
3. Continue iterating on social sharing in background
4. Test different growth channels (Reddit ads, Product Hunt launch)

**Timeline:** Phase 2C (Weeks 5-6)

---

## Conclusion

### Why This Strategy Works

1. **Leverages Unique Moat:** Percentile ranking is unique - competitors can't copy shares
2. **Proven Pattern:** Spotify Wrapped, Duolingo, Strava all use similar mechanics
3. **Low Risk:** Even low K-factor (0.3-0.5) = significant growth boost
4. **Fast Feedback:** 2-4 weeks to validate, not 3-6 months (SEO)
5. **Network Effects:** Compounding returns as user base grows
6. **Zero Ongoing Costs:** One-time build, infinite distribution

### Success Definition

**Minimum Viable Success:**
- 5-10% share rate
- K-factor > 0.3
- 10-20 referral signups per month

**Exceptional Success:**
- 15%+ share rate
- K-factor > 1.0 (true virality)
- 100+ referral signups per month

### Timeline Summary

- **Week 1-2:** Build MVP (OG image API, share modal, analytics)
- **Week 3-4:** A/B test variants, measure K-factor
- **Week 5+:** Iterate based on data OR pivot to FIRE calc

**Decision Point:** End of Week 4 - evaluate K-factor, decide whether to optimize or pivot

---

## Appendix: Research Sources

**Viral Coefficient & SaaS Growth:**
- "Viral growth: +3 Years of growing a SaaS with network effects" (Jonathan Rintala)
- "Understanding Viral Growth in SaaS" (Point Nine Capital, Medium)
- "Product Virality 101" (UserPilot)

**Spotify Wrapped:**
- "Spotify Wrapped Marketing Strategy: Viral Phenomenon" (NoGood, 2025)
- "The Psychology Behind Sharing Your Spotify Wrapped In 2024" (Harper's Bazaar)
- "Three Design Elements That Made Spotify Wrapped 2024 Great" (Medium)

**Duolingo Gamification:**
- "How Duolingo Utilises Gamification To Increase User Interest" (Raw.Studio)
- "How Duolingo reignited user growth" (Lenny's Newsletter)
- "Duolingo Social Media Strategy: Case Study" (Enrich Labs)

**Strava Year in Sport:**
- "Strava Releases Year In Sport Trend Report" (Press Release, 2024)
- "Strava Year in Sport: Death by Digits or Quality Quantification?" (Bikepacking.com)
- "My Strava Year In Review" (Medium)

**Financial Sharing Behavior:**
- Reddit r/fatfire, r/personalfinance (milestone posts)
- Bogleheads forum (net worth poll)
- Fishbowl app (anonymous professional sharing)

**Technical Implementation:**
- "Introducing OG Image Generation" (Vercel Blog)
- "Create OG images for your blog with Next.js" (scastiel.dev)
- Next.js ImageResponse API docs (Official)
- Satori documentation (Vercel, GitHub)

---

**End of Document**
